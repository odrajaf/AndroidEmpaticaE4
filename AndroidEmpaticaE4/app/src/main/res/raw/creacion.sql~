
CREATE TABLE IF NOT EXISTS pacientes (
id INTEGER PRIMARY KEY AUTOINCREMENT,
email text
);

CREATE TABLE IF NOT EXISTS sesiones (
id INTEGER PRIMARY KEY AUTOINCREMENT,
fecInicio DATETIME NOT NULL,
fecFin DATETIME NOT NULL,
idPaciente INTEGER,
FOREIGN KEY (idPaciente) REFERENCES pacientes (id)
ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS influencia (
id INTEGER PRIMARY KEY AUTOINCREMENT,
descripcion TEXT NOT NULL,
fecha TIMESTAMP NOT NULL,
idSesion INTEGER,
FOREIGN KEY (idSesion) REFERENCES sesiones (id)
ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS movimiento(
id INTEGER PRIMARY KEY AUTOINCREMENT,
valorX INTEGER NOT NULL,
valorY INTEGER NOT NULL,
valorZ INTEGER NOT NULL,
fecha TIMESTAMP NOT NULL,
idSesion INTEGER,
FOREIGN KEY (idSesion) REFERENCES sesiones (id)
ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS bvp(
id INTEGER PRIMARY KEY AUTOINCREMENT,
valorBvp REAL NOT NULL,
fecha TIMESTAMP NOT NULL,
idSesion INTEGER,
FOREIGN KEY (idSesion) REFERENCES sesiones (id)
ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS eda(
id INTEGER PRIMARY KEY AUTOINCREMENT,
valorEda REAL NOT NULL,
fecha TIMESTAMP NOT NULL,
idSesion INTEGER,
FOREIGN KEY (idSesion) REFERENCES sesiones (id)
ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS ibi(
id INTEGER PRIMARY KEY AUTOINCREMENT,
valorIbi REAL NOT NULL,
fecha TIMESTAMP NOT NULL,
idSesion INTEGER,
FOREIGN KEY (idSesion) REFERENCES sesiones (id)
ON DELETE CASCADE ON UPDATE CASCADE
);

CREATE TABLE IF NOT EXISTS temperatura(
id INTEGER PRIMARY KEY AUTOINCREMENT,
valorTemp REAL NOT NULL,
fecha TIMESTAMP NOT NULL,
idSesion INTEGER,
FOREIGN KEY (idSesion) REFERENCES sesiones (id)
ON DELETE CASCADE ON UPDATE CASCADE
);


